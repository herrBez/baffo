input {
    pipeline {
        address => "foo"
    }
}

filter {
    translate {
        iterate_on => "[collaborator_ids][foo]"
        source     => "[collaborator_ids][foo]"
        target     => "[collaborator_names][foo]"
        fallback => "Unknown"
        add_field => { "foo_%{somefield} - Pizza_%{[mandolino][pizza]}" => "Hello world, from %{host}" }
    }
}

filter {
    translate {
        iterate_on => "[collaborator_ids][foo]"
        source     => "[collaborator_ids][foo]"
        target     => "[collaborator_names][foo]"
        fallback => "Unknown"
        add_field => { "foo_%{somefield} - Pizza_%{[mandolino][pizza]}" => "Hello world, from %{host}" }
    }
}

output {
    pipeline {
        send_to => "boo"
    }
}